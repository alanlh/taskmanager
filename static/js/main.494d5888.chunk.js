(this.webpackJsonptaskmanager=this.webpackJsonptaskmanager||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s,a,i=n(1),c=n.n(i),o=n(14),l=n.n(o),r=(n(28),n(29),n(2)),u=n(6),d="CompletionStatus";function b(e){return"".concat(d,"_").concat(a[e])}!function(e){e[e.Planned=0]="Planned",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed",e[e.Void=3]="Void"}(a||(a={}));var j,O=(s={},Object(u.a)(s,a.Planned,"Planned"),Object(u.a)(s,a.InProgress,"In Progress"),Object(u.a)(s,a.Completed,"Completed"),Object(u.a)(s,a.Void,"Void"),s);function h(e){return O[e]}!function(e){e.Task="JobType_Task",e.Project="JobType_Project"}(j||(j={}));var f,m=n(8),T=n(15),v=n.n(T),g=n(22),C=n(3),E=n(7),x=n(5),S=n(4);!function(e){e[e.Create=0]="Create",e[e.Update=1]="Update",e[e.Delete=2]="Delete"}(f||(f={}));var _,L=function(){function e(t){var n=t.tableName,s=t.columnNames,a=t.columnCount,i=t.keyColumn,c=t.indexedColumns,o=t.defaultValues,l=t.trackingTables;Object(C.a)(this,e),this.tableName=void 0,this._columnNames=void 0,this.columnCount=void 0,this.keyColumn=void 0,this.defaultValues=void 0,this.indexedColumns=new Set,this._indices=new Map,this._data=new Map,this.trackingTables=void 0,this.tableName=n,this._columnNames=s,this.columnCount=a,this.keyColumn=i,this.indexedColumns=new Set(c);var r,u=Object(m.a)(c);try{for(u.s();!(r=u.n()).done;){var d=r.value;this._indices.set(d,new Map)}}catch(b){u.e(b)}finally{u.f()}this.defaultValues=o,this.trackingTables=l}return Object(E.a)(e,[{key:"onLoad",value:function(){}},{key:"getColumnName",value:function(e){return this._columnNames[e]}},{key:"checkRowExists",value:function(e){return this._data.has(e)}},{key:"getData",value:function(e,t){var n=this._data.get(e);return n?n[t]:void 0}},{key:"setData",value:function(e,t,n){var s=this._data.get(e);if(s){var a=this.checkIndexed(t);if(a){var i=s[t];this.removeFromIndex(t,i,e)}s[t]=n,a&&this.addToIndex(t,n,e)}}},{key:"checkIndexed",value:function(e){return this.indexedColumns.has(e)}},{key:"hasRowWithIndex",value:function(e,t){return this.checkIndexed(e)?this._indices.get(e).has(t):(console.warn("Table ".concat(this.tableName," does not have an index on column ").concat(this.getColumnName(e),".")),!1)}},{key:"getRowsWithIndex",value:function(e,t){return this.indexedColumns.has(e)?Array.from(this._indices.get(e).get(t)||[]):(console.warn("Table ".concat(this.tableName," does not have an index on column ").concat(this.getColumnName(e),".")),[])}},{key:"getIndexSet",value:function(e,t){return this._indices.get(e).get(t)}},{key:"addToIndex",value:function(e,t,n){var s=this.getIndexSet(e,t);void 0===s&&(s=new Set,this._indices.get(e).set(t,s)),s.add(n)}},{key:"removeFromIndex",value:function(e,t,n){var s=this.getIndexSet(e,t);s.delete(n),0===s.size&&this._indices.get(e).delete(t)}},{key:"createRow",value:function(e){var t,n=Array.from(this.defaultValues);if(void 0!==e)for(var s=0;s<n.length;s++)void 0!==e[s]&&(n[s]=e[s]);void 0===e||void 0===e[this.keyColumn]||this._data.has(n[this.keyColumn])?(t=this.getUniqueKey(),n[this.keyColumn]=t):t=n[this.keyColumn],this._data.set(t,n);var a,i=Object(m.a)(this.indexedColumns);try{for(i.s();!(a=i.n()).done;){var c=a.value;this.addToIndex(c,n[c],t)}}catch(o){i.e(o)}finally{i.f()}return t}},{key:"getUuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),e}();!function(e){e[e.LOG_ID=0]="LOG_ID",e[e.LOG_TIME=1]="LOG_TIME",e[e.ENTRY_ID=2]="ENTRY_ID",e[e.ENTRY_TYPE=3]="ENTRY_TYPE",e[e.ENTRY_VALUE=4]="ENTRY_VALUE",e[e.__LENGTH=5]="__LENGTH"}(_||(_={}));var p,N=function(e){Object(x.a)(n,e);var t=Object(S.a)(n);function n(e){var s=e.tableName,a=e.defaultValue;return Object(C.a)(this,n),t.call(this,{tableName:s,columnCount:_.__LENGTH,columnNames:["LOG_ID","LOG_TIME","ENTRY_ID","ENTRY_TYPE","ENTRY_VALUE"],keyColumn:_.LOG_ID,indexedColumns:[_.ENTRY_ID,_.ENTRY_VALUE],defaultValues:["",new Date,"",f.Update,a],trackingTables:new Map})}return Object(E.a)(n,[{key:"getUniqueKey",value:function(){return this.getUuid()}}]),n}(L),k=function(e){Object(x.a)(n,e);var t=Object(S.a)(n);function n(){return Object(C.a)(this,n),t.call(this,{tableName:"STATUS_TABLE_LOG",defaultValue:""})}return n}(N);!function(e){e[e.KEY=0]="KEY",e[e.TYPE=1]="TYPE",e[e.NAME=2]="NAME",e[e.DESCRIPTION=3]="DESCRIPTION",e[e.__LENGTH=4]="__LENGTH"}(p||(p={}));var I,D=function(e){Object(x.a)(n,e);var t=Object(S.a)(n);function n(){return Object(C.a)(this,n),t.call(this,{tableName:"STATUS_DEFINTIIONS",columnCount:p.__LENGTH,columnNames:["KEY","TYPE","NAME","DESCRIPTION"],indexedColumns:[p.KEY,p.TYPE],defaultValues:["","","",""],keyColumn:p.KEY,trackingTables:new Map})}return Object(E.a)(n,[{key:"onLoad",value:function(){this.createRow([b(a.Planned),d,h(a.Planned),"Planned Description"]),this.createRow([b(a.InProgress),d,h(a.InProgress),"In Progress Description"]),this.createRow([b(a.Completed),d,h(a.Completed),"Completed Description"]),this.createRow([b(a.Void),d,h(a.Void),"Void Description"])}},{key:"getUniqueKey",value:function(){return this.getUuid()}}]),n}(L),y=function(e){Object(x.a)(n,e);var t=Object(S.a)(n);function n(){return Object(C.a)(this,n),t.call(this,{tableName:"DUE_DATE_LOG",defaultValue:new Date})}return n}(N),w=n(9);!function(e){e[e.ID=0]="ID",e[e.NAME=1]="NAME",e[e.JOB_TYPE=2]="JOB_TYPE",e[e.CHILD_TASK_OF=3]="CHILD_TASK_OF",e[e.CHILD_PROJECT_OF=4]="CHILD_PROJECT_OF",e[e.DESCRIPTION=5]="DESCRIPTION",e[e.DUE_DATE=6]="DUE_DATE",e[e.BEST_CASE_TIME=7]="BEST_CASE_TIME",e[e.ESTIMATED_TIME=8]="ESTIMATED_TIME",e[e.WORST_CASE_TIME=9]="WORST_CASE_TIME",e[e.MINUTES_SPENT=10]="MINUTES_SPENT",e[e.__LENGTH=11]="__LENGTH"}(I||(I={}));var R,A=function(e){Object(x.a)(n,e);var t=Object(S.a)(n);function n(){return Object(C.a)(this,n),t.call(this,{tableName:"JOBS",columnCount:I.__LENGTH,columnNames:Object(w.a)(Array(I.__LENGTH).keys()).map((function(e){return I[e]})),keyColumn:I.ID,indexedColumns:[I.JOB_TYPE,I.CHILD_PROJECT_OF,I.CHILD_TASK_OF],defaultValues:["","",j.Task,void 0,void 0,"",new Date,0,0,0,0],trackingTables:new Map([[I.DUE_DATE,V.DueDateLog],[I.BEST_CASE_TIME,V.EstTimeBest],[I.ESTIMATED_TIME,V.EstTimeExpected],[I.WORST_CASE_TIME,V.EstTimeWorst]])})}return Object(E.a)(n,[{key:"getUniqueKey",value:function(){return this.getUuid()}}]),n}(L);!function(e){e[e.LOG_ID=0]="LOG_ID",e[e.JOB_ID=1]="JOB_ID",e[e.VALUE=2]="VALUE",e[e.DESCRIPTION=3]="DESCRIPTION",e[e.__LENGTH=4]="__LENGTH"}(R||(R={}));var M,P=function(e){Object(x.a)(n,e);var t=Object(S.a)(n);function n(){return Object(C.a)(this,n),t.call(this,{tableName:"TIME_LOG",columnCount:R.__LENGTH,columnNames:["LOG_ID","JOB_ID","VALUE","DESCRIPTION"],defaultValues:["","",0,""],indexedColumns:[R.JOB_ID],keyColumn:R.LOG_ID,trackingTables:new Map([[R.VALUE,V.TimeLogHistory]])})}return Object(E.a)(n,[{key:"getUniqueKey",value:function(){return this.getUuid()}}]),n}(L),U=function(e){Object(x.a)(n,e);var t=Object(S.a)(n);function n(){return Object(C.a)(this,n),t.call(this,{tableName:"TIME_LOG_HISTORY",defaultValue:0})}return n}(N);!function(e){e[e.STATUS_ENTRY_ID=0]="STATUS_ENTRY_ID",e[e.STATUS_VALUE=1]="STATUS_VALUE",e[e.STATUS_TYPE=2]="STATUS_TYPE",e[e.JOB_ID=3]="JOB_ID",e[e.__LENGTH=4]="__LENGTH"}(M||(M={}));var J,V,Y=function(e){Object(x.a)(n,e);var t=Object(S.a)(n);function n(){return Object(C.a)(this,n),t.call(this,{tableName:"STATUS_TABLE",columnCount:M.__LENGTH,columnNames:["STATUS_ENTRY_ID","STATUS_VALUE","STATUS_TYPE","JOB_ID"],defaultValues:["","","",""],indexedColumns:[M.JOB_ID,M.STATUS_TYPE,M.STATUS_VALUE],keyColumn:M.STATUS_ENTRY_ID,trackingTables:new Map([[M.STATUS_VALUE,V.StatusLog]])})}return Object(E.a)(n,[{key:"getUniqueKey",value:function(){return this.getUuid()}}]),n}(L),B=function(e){Object(x.a)(n,e);var t=Object(S.a)(n);function n(){return Object(C.a)(this,n),t.call(this,{tableName:"ESTIMATED_TIME_BEST_CASE",defaultValue:0})}return n}(N),F=function(e){Object(x.a)(n,e);var t=Object(S.a)(n);function n(){return Object(C.a)(this,n),t.call(this,{tableName:"ESTIMATED_TIME_EXPECTED",defaultValue:0})}return n}(N),H=function(e){Object(x.a)(n,e);var t=Object(S.a)(n);function n(){return Object(C.a)(this,n),t.call(this,{tableName:"ESTIMATED_TIME_WORST_CASE",defaultValue:0})}return n}(N);!function(e){e.Jobs="Jobs",e.StatusDefinitions="StatusDefinitions",e.StatusLog="StatusLog",e.Status="Status",e.DueDateLog="DueDateLog",e.TimeLog="TimeLog",e.TimeLogHistory="TimeLogHistory",e.EstTimeBest="EstTimeBest",e.EstTimeExpected="EstTimeExpected",e.EstTimeWorst="EstTimeWorst"}(V||(V={}));var G=(J={},Object(u.a)(J,V.Jobs,new A),Object(u.a)(J,V.StatusDefinitions,new D),Object(u.a)(J,V.StatusLog,new k),Object(u.a)(J,V.Status,new Y),Object(u.a)(J,V.DueDateLog,new y),Object(u.a)(J,V.TimeLog,new P),Object(u.a)(J,V.TimeLogHistory,new U),Object(u.a)(J,V.EstTimeBest,new B),Object(u.a)(J,V.EstTimeExpected,new F),Object(u.a)(J,V.EstTimeWorst,new H),J),K=new(function(){function e(){Object(C.a)(this,e),this.tableListeners=new Map,this.rowListeners=new Map,this.cellListeners=new Map,this.columnListeners=new Map,this.indexListeners=new Map}return Object(E.a)(e,[{key:"loadInitialData",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in G)G[t].onLoad();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"logTableData",value:function(){console.log(G)}},{key:"getTableColumnCount",value:function(e){return G[e].columnCount}},{key:"getCell",value:function(e,t,n){return G[e].getData(t,n)}},{key:"getIndex",value:function(e,t,n){return G[e].getRowsWithIndex(t,n)}},{key:"setCell",value:function(e,t,n,s){var a=this.getCell(e,t,n);a!==s&&this._setCell(e,t,n,s,a)}},{key:"_setCell",value:function(e,t,n,s,a){G[e].setData(t,n,s),this._updateChangeTracking(e,t,n,s,f.Update),this._triggerIndexChange(e,t,n,s,a)}},{key:"_updateChangeTracking",value:function(e,t,n,s,a){var i=G[e];if(i.trackingTables.has(n)&&i.trackingTables.has(n)){var c=i.trackingTables.get(n),o=this.generateDefaultRow(c);o[_.LOG_TIME]=new Date,o[_.ENTRY_ID]=t,o[_.ENTRY_TYPE]=a,o[_.ENTRY_VALUE]=s,this.createRow(c,o)}}},{key:"_triggerIndexChange",value:function(e,t,n,s,a){var i,c,o,l,r,u,d,b;this.triggerCallbackSet(this.tableListeners.get(e)),this.triggerCallbackSet(null===(i=this.rowListeners.get(e))||void 0===i?void 0:i.get(t)),this.triggerCallbackSet(null===(c=this.cellListeners.get(e))||void 0===c||null===(o=c.get(t))||void 0===o?void 0:o.get(n)),this.triggerCallbackSet(null===(l=this.columnListeners.get(e))||void 0===l?void 0:l.get(n)),this.triggerCallbackSet(null===(r=this.indexListeners.get(e))||void 0===r||null===(u=r.get(n))||void 0===u?void 0:u.get(a)),this.triggerCallbackSet(null===(d=this.indexListeners.get(e))||void 0===d||null===(b=d.get(n))||void 0===b?void 0:b.get(s))}},{key:"triggerCallbackSet",value:function(e){if(e){var t,n=Object(m.a)(e);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(s){n.e(s)}finally{n.f()}}}},{key:"generateDefaultRow",value:function(e){return Array(K.getTableColumnCount(e)).fill(void 0)}},{key:"createRow",value:function(e,t){var n,s=G[e].createRow(t),a=Object(m.a)(G[e].trackingTables);try{for(a.s();!(n=a.n()).done;){var i=Object(r.a)(n.value,1)[0];this._updateChangeTracking(e,s,i,this.getCell(e,s,i),f.Create)}}catch(g){a.e(g)}finally{a.f()}if(this.triggerCallbackSet(this.tableListeners.get(e)),this.columnListeners.has(e)){var c,o=Object(m.a)(this.columnListeners.get(e));try{for(o.s();!(c=o.n()).done;){var l=c.value;this.triggerCallbackSet(this.columnListeners.get(e).get(l))}}catch(g){o.e(g)}finally{o.f()}}if(this.indexListeners.has(e)){var u,d=Object(m.a)(this.indexListeners.get(e));try{for(d.s();!(u=d.n()).done;){var b,j=Object(r.a)(u.value,2),O=(j[0],j[1]),h=Object(m.a)(O);try{for(h.s();!(b=h.n()).done;){var T=Object(r.a)(b.value,2),v=(T[0],T[1]);this.triggerCallbackSet(v)}}catch(g){h.e(g)}finally{h.f()}}}catch(g){d.e(g)}finally{d.f()}}return s}},{key:"addTableListener",value:function(e,t){this.tableListeners.has(e)||this.tableListeners.set(e,new Set),this.tableListeners.get(e).add(t)}},{key:"removeTableListener",value:function(e,t){if(this.tableListeners.has(e)){var n=this.tableListeners.get(e);n.has(t)?(n.delete(t),0===n.size&&this.tableListeners.delete(e)):console.warn("Attempting to remove non-existent listener from ",V[e])}else console.warn("Attempting to remove non-existent listener from ",V[e])}},{key:"addRowListener",value:function(e,t,n){this.rowListeners.has(e)||this.rowListeners.set(e,new Map),this.rowListeners.get(e).has(t)||this.rowListeners.get(e).set(t,new Set),this.rowListeners.get(e).get(t).add(n)}},{key:"removeRowListener",value:function(e,t,n){if(this.rowListeners.has(e)&&this.rowListeners.get(e).has(t)){var s=this.rowListeners.get(e),a=s.get(t);a.has(n)?(a.delete(n),0===a.size&&s.delete(t),0===s.size&&this.rowListeners.delete(e)):console.warn("Attempting to remove non-existent listener from ",V[e],t)}else console.warn("Attempting to remove non-existent listener from ",V[e],t)}},{key:"addCellListener",value:function(e,t,n,s){this.cellListeners.has(e)||this.cellListeners.set(e,new Map),this.cellListeners.get(e).has(t)||this.cellListeners.get(e).set(t,new Map),this.cellListeners.get(e).get(t).has(n)||this.cellListeners.get(e).get(t).set(n,new Set),this.cellListeners.get(e).get(t).get(n).add(s)}},{key:"removeCellListener",value:function(e,t,n,s){if(this.cellListeners.has(e)&&this.cellListeners.get(e).has(t)&&this.cellListeners.get(e).get(t).has(n)){var a=this.cellListeners.get(e),i=a.get(t),c=i.get(n);c.has(s)?(c.delete(s),0===c.size&&i.delete(n),0===i.size&&a.delete(t),0===a.size&&this.cellListeners.delete(e)):console.warn("Attempting to remove non-existent listener from ",V[e],t,n)}else console.warn("Attempting to remove non-existent listener from ",V[e],t,n)}},{key:"addColumnListener",value:function(e,t,n){this.columnListeners.has(e)||this.columnListeners.set(e,new Map),this.columnListeners.get(e).has(t)||this.columnListeners.get(e).set(t,new Set),this.columnListeners.get(e).get(t).add(n)}},{key:"removeColumnListener",value:function(e,t,n){if(this.columnListeners.has(e)&&this.columnListeners.get(e).has(t)){var s=this.columnListeners.get(e),a=s.get(t);a.has(n)?(a.delete(n),0===a.size&&s.delete(t),0===s.size&&this.columnListeners.delete(e)):console.warn("Attempting to remove non-existent listener from ",V[e],t)}else console.warn("Attempting to remove non-existent listener from ",V[e],t)}},{key:"addIndexListener",value:function(e,t,n,s){this.indexListeners.has(e)||this.indexListeners.set(e,new Map),this.indexListeners.get(e).has(t)||this.indexListeners.get(e).set(t,new Map),this.indexListeners.get(e).get(t).has(n)||this.indexListeners.get(e).get(t).set(n,new Set),this.indexListeners.get(e).get(t).get(n).add(s)}},{key:"removeIndexListener",value:function(e,t,n,s){if(this.indexListeners.has(e)&&this.indexListeners.get(e).has(t)&&this.indexListeners.get(e).get(t).has(n)){var a=this.indexListeners.get(e),i=a.get(t),c=i.get(n);c.has(s)?(c.delete(s),0===c.size&&i.delete(n),0===i.size&&a.delete(t),0===a.size&&this.indexListeners.delete(e)):console.warn("Attempting to remove non-existent listener from ",V[e],t,n)}else console.warn("Attempting to remove non-existent listener from ",V[e],t,n)}}]),e}());K.loadInitialData();var z=K;console.log(K),console.log(G);var W={useCellState:function(e,t,n){var s=Object(i.useState)(z.getCell(e,t,n)),a=Object(r.a)(s,2),c=a[0],o=a[1],l=Object(i.useCallback)((function(){o(z.getCell(e,t,n))}),[e,t,n]);return Object(i.useEffect)((function(){return z.addCellListener(e,t,n,l),function(){z.removeCellListener(e,t,n,l)}}),[e,t,n,l]),[c,Object(i.useCallback)((function(s){z.setCell(e,t,n,s)}),[e,t,n])]},useReadonlyCellState:function(e,t,n){var s=W.useCellState(e,t,n);return[Object(r.a)(s,1)[0]]},useIndexState:function(e,t,n){var s=Object(i.useCallback)((function(){return z.getIndex(e,t,n)}),[e,t,n]),a=Object(i.useRef)(null);null===a.current&&(a.current=s());var c=Object(i.useState)(a.current),o=Object(r.a)(c,2),l=o[0],u=o[1],d=Object(i.useCallback)((function(){var e=s();u(e)}),[l,u,s]);return Object(i.useEffect)((function(){return z.addIndexListener(e,t,n,d),function(){z.removeIndexListener(e,t,n,d)}}),[e,t,n,d]),[l]},useRelatedIndexState:function(e,t,n,s){var a=Object(i.useCallback)((function(){return W.getIndexState(e,t,n).map((function(t){return[t,z.getCell(e,t,s)]}))}),[e,t,n,s]),c=Object(i.useRef)(null);null===c.current&&(c.current=a());var o=Object(i.useState)(c.current),l=Object(r.a)(o,2),u=l[0],d=l[1],b=Object(i.useCallback)((function(){d(a())}),[a,d]);return Object(i.useEffect)((function(){z.addIndexListener(e,n,t,b);var a,i=Object(m.a)(u);try{for(i.s();!(a=i.n()).done;){var c=Object(r.a)(a.value,1)[0];z.addCellListener(e,c,s,b)}}catch(o){i.e(o)}finally{i.f()}return function(){z.removeIndexListener(e,n,t,b);var a,i=Object(m.a)(u);try{for(i.s();!(a=i.n()).done;){var c=Object(r.a)(a.value,1)[0];z.removeCellListener(e,c,s,b)}}catch(o){i.e(o)}finally{i.f()}}}),[u,e,t,n,s,b]),[u]},createRow:function(e,t){return z.createRow(e,t)},generateDefaultRow:function(e){return Array(z.getTableColumnCount(e)).fill(void 0)},getCellState:function(e,t,n){return z.getCell(e,t,n)},setCellState:function(e,t,n,s){z.setCell(e,t,n,s)},getIndexState:function(e,t,n){return z.getIndex(e,t,n)}},q=W,X={useName:function(e){return q.useCellState(V.Jobs,e,I.NAME)},useDescription:function(e){return q.useCellState(V.Jobs,e,I.DESCRIPTION)},useJobType:function(e){return q.useReadonlyCellState(V.Jobs,e,I.JOB_TYPE)},useDueDate:function(e){return q.useCellState(V.Jobs,e,I.DUE_DATE)},useTimeSpent:function(e){return q.useReadonlyCellState(V.Jobs,e,I.MINUTES_SPENT)},useChildTasks:function(e){var t=q.useIndexState(V.Jobs,I.CHILD_TASK_OF,e);return[Object(r.a)(t,1)[0]]},useRootTasks:function(){return q.useIndexState(V.Jobs,I.CHILD_TASK_OF,"")},useChildProjects:function(e){return q.useIndexState(V.Jobs,I.CHILD_PROJECT_OF,e)},useRootProjects:function(){return q.useIndexState(V.Jobs,I.CHILD_PROJECT_OF,"")},createRootProject:function(){return X.createChildProject("")},createRootTask:function(){return X.createChildTask("")},createChildProject:function(e){var t=q.generateDefaultRow(V.Jobs);t[I.JOB_TYPE]=j.Project,t[I.CHILD_PROJECT_OF]=e;var n=q.createRow(V.Jobs,t),s=q.generateDefaultRow(V.Status);s[M.JOB_ID]=n,s[M.STATUS_TYPE]=d,s[M.STATUS_VALUE]=b(a.Planned),q.createRow(V.Status,s)},createChildTask:function(e){var t=q.generateDefaultRow(V.Jobs);t[I.JOB_TYPE]=j.Task,t[I.CHILD_TASK_OF]=e;var n=q.createRow(V.Jobs,t),s=q.generateDefaultRow(V.Status);s[M.JOB_ID]=n,s[M.STATUS_TYPE]=d,s[M.STATUS_VALUE]=b(a.Planned),q.createRow(V.Status,s)}},Q=X,Z={useStatusName:function(e,t){var n=z.getCell(V.StatusDefinitions,t,p.TYPE);return console.assert(void 0!==n,"No status definition with key ",t," exists"),console.assert(n===e,"The status definition key ",t," does not belong to type",e),q.useCellState(V.StatusDefinitions,t,p.NAME)},useAllStatusValuesAndNames:function(e){return q.useRelatedIndexState(V.StatusDefinitions,p.TYPE,e,p.NAME)}},$={useCompletionStatus:function(e){var t=Object(i.useMemo)((function(){var t,n=q.getIndexState(V.Status,M.JOB_ID,e),s=Object(m.a)(n);try{for(s.s();!(t=s.n()).done;){var a=t.value;if(q.getCellState(V.Status,a,M.STATUS_TYPE)===d)return a}}catch(i){s.e(i)}finally{s.f()}return console.warn("No completion status for job",e),""}),[e]);return q.useCellState(V.Status,t,M.STATUS_VALUE)}},ee=(n(16),n(0)),te=function(e){var t=e.id,n=$.useCompletionStatus(t),s=Object(r.a)(n,2),c=s[0],o=s[1],l=Z.useAllStatusValuesAndNames(d),u=Object(r.a)(l,1)[0],j=Object(i.useCallback)((function(e){o(b(e.currentTarget.checked?a.Completed:a.InProgress))}),[o]),O=Object(i.useCallback)((function(e){o(e.currentTarget.value)}),[o]);return Object(ee.jsxs)("div",{className:"completion-status-field",children:[Object(ee.jsx)("input",{type:"checkbox",checked:c===b(a.Completed),onChange:j}),Object(ee.jsx)("select",{onChange:O,value:c,children:u.map((function(e,t){var n=Object(r.a)(e,2),s=n[0],a=n[1];return Object(ee.jsx)("option",{value:s,children:a},t)}))})]})},ne=function(e){var t=e.id,n=Q.useDueDate(t),s=Object(r.a)(n,2),a=s[0],c=s[1],o=Object(i.useCallback)((function(e){console.log(e.currentTarget.valueAsDate),c(e.currentTarget.valueAsDate)}),[c]);return Object(ee.jsx)("div",{className:"completion-status-field",children:Object(ee.jsx)("input",{type:"date",value:a.toISOString().substr(0,10),onChange:o})})},se={useLoggedTime:function(e){var t=q.useCellState(V.Jobs,e,I.MINUTES_SPENT);return[Object(r.a)(t,1)[0],function(t){se.createTimeLogEntry(e,t)}]},useEntryIdsForJob:function(e){return q.useIndexState(V.TimeLog,R.JOB_ID,e)},useEntryValues:function(e){return q.useRelatedIndexState(V.TimeLog,R.JOB_ID,e,R.VALUE)},useDescription:function(e){return q.useCellState(V.TimeLog,e,R.DESCRIPTION)},useTimeValue:function(e){var t=q.useCellState(V.TimeLog,e,R.VALUE),n=Object(r.a)(t,2),s=n[0],a=n[1],c=Object(i.useCallback)((function(t){a(t);var n=q.getCellState(V.TimeLog,e,R.JOB_ID);se.updateTimeSpentForJobs(n,t,s)}),[e,s,a]);return[s,c]},createTimeLogEntry:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";se.updateTimeSpentForJobs(e,t,0);var s=q.generateDefaultRow(V.TimeLog);s[R.JOB_ID]=e,s[R.VALUE]=t,s[R.DESCRIPTION]=n,q.createRow(V.TimeLog,s)},updateTimeSpentForJobs:function(e,t,n){var s=t-n,a=q.getCellState(V.Jobs,e,I.MINUTES_SPENT);q.setCellState(V.Jobs,e,I.MINUTES_SPENT,a+s);for(var i=q.getCellState(V.Jobs,e,I.CHILD_TASK_OF);void 0!==i;){var c=q.getCellState(V.Jobs,i,I.MINUTES_SPENT);q.setCellState(V.Jobs,i,I.MINUTES_SPENT,c+s),i=q.getCellState(V.Jobs,i,I.CHILD_PROJECT_OF)}}},ae=se,ie=(n(32),Object(i.forwardRef)((function(e,t){var n=e.time,s=e.setTime,a=e.readonly,c=e.className,o=n%60,l=(n-o)/60,r=Object(i.useCallback)((function(e){s&&s(60*e.currentTarget.valueAsNumber+o)}),[s,o]),u=Object(i.useCallback)((function(e){s&&s(60*l+e.currentTarget.valueAsNumber)}),[s,l]);return Object(ee.jsxs)("div",{className:"".concat(c),children:[Object(ee.jsx)("input",{className:"duration-field-input",type:"number",min:0,max:23,step:1,value:l,onChange:r,readOnly:a,ref:t}),"Hr",Object(ee.jsx)("input",{className:"duration-field-input",type:"number",min:0,max:59,step:5,value:o,onChange:u,readOnly:a}),"Min"]})}))),ce=(n(33),function(e){var t=Object(i.useCallback)((function(t){e.setValue&&e.setValue(t.currentTarget.value)}),[e.setValue]),n=Object(i.useMemo)((function(){return(e.value.match(/\n/g)||[]).length+1}),[e.value]);void 0!==e.minRows&&n<e.minRows&&(n=e.minRows),void 0!==e.maxRows&&n>e.maxRows&&(n=e.maxRows);var s=Object(i.useCallback)((function(){void 0!==e.setEditMode&&e.setEditMode(!0)}),[e.setEditMode]),a=Object(i.useCallback)((function(){void 0!==e.setEditMode&&e.setEditMode(!1)}),[e.setEditMode]);return e.multiRow?Object(ee.jsx)("textarea",{value:e.value,onChange:t,readOnly:!e.editMode,className:"".concat(e.className||""," ").concat(e.editMode?"":"text-input-field-readonly"),onFocus:e.onFocus&&!e.setEditModeOnFocus?e.onFocus:s,onBlur:e.onBlur&&!e.setEditModeOnFocus?e.onBlur:a,rows:n}):Object(ee.jsx)("input",{value:e.value,onChange:t,readOnly:!e.editMode,className:"".concat(e.className||""," ").concat(e.editMode?"":"text-input-field-readonly"),onFocus:e.onFocus&&!e.setEditModeOnFocus?e.onFocus:s,onBlur:e.onBlur&&!e.setEditModeOnFocus?e.onBlur:a})}),oe=(n(34),function(e){var t=e.duration,n=e.setDuration,s=e.description,a=e.setDescription,c=e.editMode,o=e.allowToggleEditMode,l=e.onSetEditable,r=e.onSubmit,u=e.onSetReadonly,d=e.allowDelete,b=e.onDelete,j=e.className,O=Object(i.useRef)(null),h=Object(i.useRef)(null),f=Object(i.useCallback)((function(){var e;void 0!==r&&r(),o&&void 0!==u&&u(),null===(e=h.current)||void 0===e||e.focus()}),[r,o,u]),m=Object(i.useCallback)((function(){var e,t;o&&l&&l(),null===(e=O.current)||void 0===e||e.focus(),null===(t=O.current)||void 0===t||t.select()}),[o,l,O]),T=Object(i.useCallback)((function(){var e;u&&u(),null===(e=h.current)||void 0===e||e.focus()}),[u]);return Object(i.useEffect)((function(){var e,t;c&&(null===(e=O.current)||void 0===e||e.focus(),null===(t=O.current)||void 0===t||t.select())}),[c]),Object(ee.jsxs)("div",{className:"".concat(j||""," time-log-field"),children:[Object(ee.jsxs)("div",{className:"time-log-field-upper",children:[Object(ee.jsx)(ie,{time:t,setTime:n,readonly:!c,className:"time-log-field-duration",ref:O}),Object(ee.jsx)(ce,{editMode:c,value:s,setValue:a,multiRow:!1,className:"time-log-field-description"})]}),Object(ee.jsxs)("div",{className:"time-log-field-lower",children:[Object(ee.jsx)("button",{onClick:m,hidden:c||!o,className:"time-log-field-button",ref:h,children:"Edit"}),Object(ee.jsx)("button",{onClick:f,hidden:!c,className:"time-log-field-button",children:"Save"}),Object(ee.jsx)("button",{onClick:T,hidden:!c||!o,className:"time-log-field-button",children:"Cancel"}),Object(ee.jsx)("button",{onClick:b,hidden:!d||c,className:"time-log-field-button",children:"Delete"})]})]})}),le=(n(35),function(e){var t=e.taskId,n=e.onLog,s=e.className,a=Object(i.useState)(15),c=Object(r.a)(a,2),o=c[0],l=c[1],u=Object(i.useState)(""),d=Object(r.a)(u,2),b=d[0],j=d[1],O=Object(i.useCallback)((function(){ae.createTimeLogEntry(t,o,b),n&&n()}),[t,o,b,n]);return Object(ee.jsx)(oe,{description:b,setDescription:j,duration:o,setDuration:l,editMode:!0,onSubmit:O,className:s})}),re=(n(36),function(e){var t=e.id,n=Q.useDescription(t),s=Object(r.a)(n,2),a=s[0],c=s[1],o=Object(i.useState)(!1),l=Object(r.a)(o,2),u=l[0],d=l[1];return Object(ee.jsx)(ce,{multiRow:!0,className:"descriptionfield-input-field",editMode:u,setEditMode:d,setEditModeOnFocus:!0,value:a,minRows:5,maxRows:20,setValue:c})}),ue=(n(37),function(e){var t=e.id,n=Object(i.useState)(!1),s=Object(r.a)(n,2),a=s[0],c=s[1],o=Q.useName(t),l=Object(r.a)(o,2),u=l[0],d=l[1];return Object(ee.jsx)(ce,{className:"namefield-input-field",editMode:a,setValue:d,value:u,setEditMode:c,setEditModeOnFocus:!0})});function de(e){var t=Object(i.useState)(e),n=Object(r.a)(t,2),s=n[0],a=n[1],c=Object(i.useCallback)((function(){a(!s)}),[s,a]),o=Object(i.useCallback)((function(){a(!0)}),[a]),l=Object(i.useCallback)((function(){a(!1)}),[a]);return[s,o,l,c]}function be(e,t,n){var s=Object(i.useState)(e),a=Object(r.a)(s,2),c=a[0],o=a[1];c!==e&&o(e);var l=Object(i.useState)(e),u=Object(r.a)(l,2),d=u[0],b=u[1];return e!==d&&n&&b(e),[d,b,Object(i.useCallback)((function(e){t(e)}),[t])]}function je(e){return"".concat(e>=60?"".concat(Math.floor(e/60),"hr "):"").concat(e%60,"min")}n(38);var Oe=function(e){var t=e.timeLogId,n=de(!1),s=Object(r.a)(n,3),a=s[0],c=s[1],o=s[2],l=be.apply(void 0,Object(w.a)(ae.useDescription(t)).concat([!a])),u=Object(r.a)(l,3),d=u[0],b=u[1],j=u[2],O=be.apply(void 0,Object(w.a)(ae.useTimeValue(t)).concat([!a])),h=Object(r.a)(O,3),f=h[0],m=h[1],T=h[2],v=Object(i.useCallback)((function(){j(d),T(f)}),[d,f,j,T]);return Object(ee.jsx)(oe,{description:d,setDescription:b,duration:f,setDuration:m,editMode:a,allowToggleEditMode:!0,onSetEditable:c,onSetReadonly:o,onSubmit:v,allowDelete:!0})},he=(n(39),function(e){var t=e.jobId,n=Q.useJobType(t),s=Object(r.a)(n,1)[0],a=ae.useEntryIdsForJob(t),i=Object(r.a)(a,1)[0],c=Q.useTimeSpent(t),o=Object(r.a)(c,1)[0],l=de(!1),u=Object(r.a)(l,4),d=u[0],b=u[2],O=u[3];return Object(ee.jsxs)("div",{className:"time-log-list",children:[Object(ee.jsxs)("div",{className:"time-log-list-header",children:[Object(ee.jsx)("h3",{className:"time-log-list-header-title",children:"Logged Time"}),Object(ee.jsxs)("p",{className:"time-log-list-header-time-spent",children:["Total: ",je(o)]}),s===j.Task?Object(ee.jsx)("button",{onClick:O,className:"time-log-list-header-new-log-button",children:"Log Time"}):void 0]}),d?Object(ee.jsx)(le,{taskId:t,onLog:b,className:"time-log-list-header-new-log-entry"}):void 0,Object(ee.jsx)("div",{className:"time-log-list-entries",children:i.map((function(e,t){return Object(ee.jsx)(Oe,{timeLogId:e},t)}))})]})}),fe=(n(40),n(41),n(23)),me=n.n(fe),Te=function(e){var t=e.isOpen,n=e.onClose,s=e.children,a=e.className,i=e.showCloseButton,c=e.onRequestClose,o=e.closeOnEsc,l=e.closeOnOverlayClick;return Object(ee.jsxs)(me.a,{isOpen:t,className:"".concat(a||void 0," form-popup"),appElement:document.body,shouldCloseOnEsc:o,shouldCloseOnOverlayClick:l,onRequestClose:c,children:[i?Object(ee.jsx)("button",{onClick:n,className:"form-popup-close",children:"Close"}):void 0,s]})},ve=function(e){var t=e.jobId,n=e.onClose,s=e.isOpen;return Object(ee.jsxs)(Te,{isOpen:s,className:"job-popup",onClose:n,showCloseButton:!0,onRequestClose:n,closeOnEsc:!0,closeOnOverlayClick:!0,children:[Object(ee.jsx)(ue,{id:t}),Object(ee.jsx)(re,{id:t}),Object(ee.jsx)(he,{jobId:t})]})},ge=(n(53),n(21),function(e){var t=e.taskId,n=Q.useName(t),s=Object(r.a)(n,1)[0],a=Q.useDescription(t),c=Object(r.a)(a,1)[0],o=Q.useTimeSpent(t),l=Object(r.a)(o,1)[0],u=Object(i.useState)(!0),d=Object(r.a)(u,2),b=d[0],j=d[1],O=Object(i.useCallback)((function(){j(!b)}),[b]),h=de(!1),f=Object(r.a)(h,3),m=f[0],T=f[1],v=f[2],g=de(!1),C=Object(r.a)(g,3),E=C[0],x=C[1],S=C[2];return Object(ee.jsxs)("div",{className:"task",children:[Object(ee.jsxs)("div",{className:"task-header",children:[Object(ee.jsx)("div",{className:"task-header-left",onClick:O,children:""===s?Object(ee.jsx)("p",{children:"(Unnamed Task)"}):Object(ee.jsx)("p",{children:s})}),Object(ee.jsxs)("div",{className:"task-header-right",children:[Object(ee.jsx)(te,{id:t}),Object(ee.jsx)("button",{className:"job-button",onClick:T,children:"Edit"}),Object(ee.jsx)(ne,{id:t}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("button",{onClick:E?S:x,className:"time-log-widget-button job-button",children:"Log Time"}),Object(ee.jsx)(Te,{isOpen:E,onClose:S,onRequestClose:S,closeOnEsc:!0,closeOnOverlayClick:!0,children:Object(ee.jsx)("div",{children:Object(ee.jsx)(le,{taskId:t,onLog:S})})})]}),Object(ee.jsx)("button",{className:"job-button",children:"Est. Time"})]})]}),Object(ee.jsxs)("div",{className:"task-body ".concat(b?"":"hidden"),children:[Object(ee.jsx)("div",{className:"task-description",children:Object(ee.jsx)("p",{children:""===c?"(No Description)":c})}),Object(ee.jsxs)("p",{children:["Time Spent: ",je(l)]})]}),Object(ee.jsx)(ve,{jobId:t,onClose:v,isOpen:m})]})}),Ce=(n(54),function e(t){var n=t.projectId,s=Q.useName(n),a=Object(r.a)(s,2),o=a[0],l=(a[1],Q.useDescription(n)),u=Object(r.a)(l,2),d=u[0],b=(u[1],Q.useChildTasks(n)),j=Object(r.a)(b,1)[0],O=Q.useChildProjects(n),h=Object(r.a)(O,1)[0],f=Object(i.useState)(!0),m=Object(r.a)(f,2),T=m[0],v=m[1],g=Object(i.useCallback)((function(){v(!T)}),[T]),C=Object(i.useCallback)((function(){Q.createChildProject(n),v(!0)}),[n,v]),E=Object(i.useCallback)((function(){Q.createChildTask(n),v(!0)}),[n,v]),x=Object(i.useState)(!1),S=Object(r.a)(x,2),_=S[0],L=S[1],p=Object(i.useCallback)((function(){L(!0)}),[L]),N=Object(i.useCallback)((function(){L(!1)}),[L]);return Object(ee.jsxs)("div",{className:"project",children:[Object(ee.jsxs)("div",{className:"project-header",children:[Object(ee.jsx)("div",{className:"project-header-left",children:Object(ee.jsx)("div",{className:"project-namefield",onClick:g,children:""===o?Object(ee.jsx)("p",{children:"(Unnamed Project)"}):Object(ee.jsx)("p",{children:o})})}),Object(ee.jsxs)("div",{className:"project-header-right",children:[Object(ee.jsx)("button",{className:"job-button",onClick:C,children:"Add Project"}),Object(ee.jsx)("button",{className:"job-button",onClick:E,children:"Add Task"}),Object(ee.jsx)(te,{id:n}),Object(ee.jsx)("button",{className:"job-button",onClick:p,children:"Edit"})]})]}),Object(ee.jsxs)("div",{className:"project-body ".concat(T?"":"hidden"),children:[Object(ee.jsx)("div",{className:"project-data",children:Object(ee.jsx)("div",{className:"project-description",children:""===d?Object(ee.jsx)("p",{children:"(No Description)"}):Object(ee.jsx)("p",{children:d})})}),Object(ee.jsx)("div",{className:"project-tasks",children:j.map((function(e,t){return Object(ee.jsx)(c.a.Fragment,{children:Object(ee.jsx)(ge,{taskId:e})},t)}))}),Object(ee.jsx)("div",{className:"project-children",children:h.map((function(t,n){return Object(ee.jsx)(c.a.Fragment,{children:Object(ee.jsx)(e,{projectId:t})},n)}))})]}),Object(ee.jsx)(ve,{jobId:n,isOpen:_,onClose:N})]})}),Ee=(n(55),function(){var e=Q.useRootTasks(),t=Object(r.a)(e,1)[0],n=Q.useRootProjects(),s=Object(r.a)(n,1)[0],a=Object(i.useCallback)((function(){Q.createRootProject()}),[]),c=Object(i.useCallback)((function(){Q.createRootTask()}),[]);return Object(ee.jsxs)("div",{className:"body",children:[Object(ee.jsxs)("div",{className:"project-header-right",children:[Object(ee.jsx)("button",{className:"project-button",onClick:a,children:"Add Project"}),Object(ee.jsx)("button",{className:"project-button",onClick:c,children:"Add Task"})]}),Object(ee.jsx)("div",{className:"body-tasks",children:t?t.map((function(e,t){return Object(ee.jsx)(ge,{taskId:e},t)})):void 0}),Object(ee.jsx)("div",{className:"body-projects",children:s.map((function(e,t){return Object(ee.jsx)(Ce,{projectId:e},t)}))})]})});function xe(){return Object(ee.jsxs)("div",{className:"app",children:[Object(ee.jsx)("h1",{children:"Task Manager"}),Object(ee.jsx)(Ee,{})]})}var Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))};l.a.render(Object(ee.jsx)(c.a.StrictMode,{children:Object(ee.jsx)(xe,{})}),document.getElementById("root")),Se()}],[[56,1,2]]]);
//# sourceMappingURL=main.494d5888.chunk.js.map